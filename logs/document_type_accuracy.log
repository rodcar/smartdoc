(.venv) (base) ivan@Ivans-MacBook-Pro smartdoc % python tests/test_endpoint_accuracy.py
ğŸš€ Starting HTTP Endpoint Accuracy Test
ğŸ“ Working directory: /Users/ivan/Workspace/agentai-document-data-extractor/smartdoc
ğŸ“ Project root: /Users/ivan/Workspace/agentai-document-data-extractor/smartdoc

ğŸ§ª HTTP Endpoint Accuracy Test
============================================================
ğŸŒ Testing endpoint: http://localhost:8000/api/analyze/
ğŸ“ Dataset path: /Users/ivan/Workspace/agentai-document-data-extractor/smartdoc/output/docs-sm_validation
ğŸ¯ Document types: 16 types

ğŸ“‚ Collecting validation images...
ğŸ“Š Found 764 total validation images
ğŸ² Sampling 100 images for testing

ğŸ“· Processing 1/100: 96900943_0945.jpg ... âœ…
ğŸ“· Processing 2/100: 2070055167d.jpg ... âœ…
ğŸ“· Processing 3/100: 2084420939_0940.jpg ... âŒ (predicted: invoice, true: advertisement)
ğŸ“· Processing 4/100: 2062907551.jpg ... âŒ (predicted: budget, true: specification)
ğŸ“· Processing 5/100: 518305808+-5812.jpg ... âœ…
ğŸ“· Processing 6/100: 518113654.jpg ... âœ…
ğŸ“· Processing 7/100: 2046039536.jpg ... âœ…
ğŸ“· Processing 8/100: 2073806199d.jpg ... âœ…
ğŸ“· Processing 9/100: 508592242.jpg ... âœ…
ğŸ“· Processing 10/100: 2073813674a.jpg ... âœ…
ğŸ“ˆ Progress: 10/100 - Current Accuracy: 80.0% - Avg Time: 20.93s
ğŸ“· Processing 11/100: 2057322796_2837.jpg ... âŒ (predicted: specification, true: scientific_report)
ğŸ“· Processing 12/100: 506049519+-9528.jpg ... âŒ (predicted: handwritten, true: questionnaire)
ğŸ“· Processing 13/100: 85006560.jpg ... âœ…
ğŸ“· Processing 14/100: 50308888-8889.jpg ... âœ…
ğŸ“· Processing 15/100: 2029236668.jpg ... âŒ (predicted: email, true: memo)
ğŸ“· Processing 16/100: 500747733+-7734.jpg ... âœ…
ğŸ“· Processing 17/100: 2084511059_1060.jpg ... âŒ (predicted: handwritten, true: advertisement)
ğŸ“· Processing 18/100: tnwl0034642.jpg ... âŒ (predicted: form, true: budget)
ğŸ“· Processing 19/100: 2505233972_3973.jpg ... âŒ (predicted: memo, true: form)
ğŸ“· Processing 20/100: 2071517750.jpg ... âŒ (predicted: memo, true: form)
ğŸ“ˆ Progress: 20/100 - Current Accuracy: 55.0% - Avg Time: 26.23s
ğŸ“· Processing 21/100: 86202917_2950.jpg ... âŒ (predicted: file_folder, true: presentation)
ğŸ“· Processing 22/100: 50491066-1067.jpg ... âœ…
ğŸ“· Processing 23/100: 509133543+-3543.jpg ... âœ…
ğŸ“· Processing 24/100: 50203925-3926.jpg ... âœ…
ğŸ“· Processing 25/100: 0060096842.jpg ... âŒ (predicted: handwritten, true: form)
ğŸ“· Processing 26/100: 2057125978_5979.jpg ... âœ…
ğŸ“· Processing 27/100: 2023091026_2023091029.jpg ... âœ…
ğŸ“· Processing 28/100: 2505155019_5020.jpg ... âŒ (predicted: handwritten, true: scientific_report)
ğŸ“· Processing 29/100: 0000988294.jpg ... âœ…
ğŸ“· Processing 30/100: 0000137069.jpg ... âŒ (predicted: file_folder, true: memo)
ğŸ“ˆ Progress: 30/100 - Current Accuracy: 56.7% - Avg Time: 24.47s
ğŸ“· Processing 31/100: 506053435+-3435.jpg ... âŒ (predicted: specification, true: form)
ğŸ“· Processing 32/100: 2045041927.jpg ... âŒ (predicted: memo, true: news_article)
ğŸ“· Processing 33/100: 50644974-4975.jpg ... âœ…
ğŸ“· Processing 34/100: 517547638+-7639.jpg ... âœ…
ğŸ“· Processing 35/100: 2045316134.jpg ... âŒ (predicted: handwritten, true: advertisement)
ğŸ“· Processing 36/100: 2025822605.jpg ... âœ…
ğŸ“· Processing 37/100: 2072686310_6317.jpg ... âŒ (predicted: scientific_publication, true: scientific_report)
ğŸ“· Processing 38/100: 0000056745.jpg ... âŒ (predicted: invoice, true: specification)
ğŸ“· Processing 39/100: 50033143.jpg ... âœ…
ğŸ“· Processing 40/100: 2069738854.jpg ... âœ…
ğŸ“ˆ Progress: 40/100 - Current Accuracy: 55.0% - Avg Time: 22.88s
ğŸ“· Processing 41/100: 2040925853-b.jpg ... âœ…
ğŸ“· Processing 42/100: 2070316542.jpg ... âœ…
ğŸ“· Processing 43/100: 70012383-2383.jpg ... âœ…
ğŸ“· Processing 44/100: 506567705_506567707.jpg ... âœ…
ğŸ“· Processing 45/100: 2040962826.jpg ... âœ…
ğŸ“· Processing 46/100: 502233354+-3354.jpg ... âŒ (predicted: memo, true: letter)
ğŸ“· Processing 47/100: 2045807408.jpg ... âŒ (predicted: handwritten, true: budget)
ğŸ“· Processing 48/100: 508252483.jpg ... âŒ (predicted: memo, true: letter)
ğŸ“· Processing 49/100: 2023225052.jpg ... âœ…
ğŸ“· Processing 50/100: 0000790115.jpg ... âŒ (predicted: memo, true: resume)
ğŸ“ˆ Progress: 50/100 - Current Accuracy: 56.0% - Avg Time: 22.09s
ğŸ“· Processing 51/100: 504104073_504104075.jpg ... âœ…
ğŸ“· Processing 52/100: 81215840_81215841.jpg ... âŒ (predicted: handwritten, true: advertisement)
ğŸ“· Processing 53/100: 2504092459.jpg ... âœ…
ğŸ“· Processing 54/100: 0071019500.jpg ... âœ…
ğŸ“· Processing 55/100: 528008062+-8062.jpg ... âœ…
ğŸ“· Processing 56/100: 2065418675.jpg ... âŒ (predicted: news_article, true: letter)
ğŸ“· Processing 57/100: 96652671.jpg ... âŒ (predicted: specification, true: budget)
ğŸ“· Processing 58/100: 522705214+-5215.jpg ... âœ…
ğŸ“· Processing 59/100: 50120566-0566.jpg ... âŒ (predicted: questionnaire, true: invoice)
ğŸ“· Processing 60/100: 2505498632_8641.jpg ... âœ…
ğŸ“ˆ Progress: 60/100 - Current Accuracy: 56.7% - Avg Time: 21.43s
ğŸ“· Processing 61/100: 50501022-1022.jpg ... âœ…
ğŸ“· Processing 62/100: 507636143.jpg ... âœ…
ğŸ“· Processing 63/100: 70056027-6027.jpg ... âŒ (predicted: news_article, true: resume)
ğŸ“· Processing 64/100: 2085587600.jpg ... âœ…
ğŸ“· Processing 65/100: 2050888247.jpg ... âœ…
ğŸ“· Processing 66/100: 03714601.jpg ... âŒ (predicted: file_folder, true: advertisement)
ğŸ“· Processing 67/100: 98703910.jpg ... âŒ (predicted: questionnaire, true: scientific_report)
ğŸ“· Processing 68/100: 2073085423.jpg ... âœ…
ğŸ“· Processing 69/100: 0001219743.jpg ... âœ…
ğŸ“· Processing 70/100: 04002591.jpg ... âŒ (predicted: form, true: budget)
ğŸ“ˆ Progress: 70/100 - Current Accuracy: 57.1% - Avg Time: 21.80s
ğŸ“· Processing 71/100: 505441252.jpg ... âŒ (predicted: budget, true: specification)
ğŸ“· Processing 72/100: 2063245842.jpg ... âœ…
ğŸ“· Processing 73/100: 504552254.jpg ... âŒ (predicted: handwritten, true: specification)
ğŸ“· Processing 74/100: 506472801_506472802.jpg ... âœ…
ğŸ“· Processing 75/100: 2025028610.jpg ... âŒ (predicted: scientific_publication, true: news_article)
ğŸ“· Processing 76/100: 87675435.jpg ... âŒ (predicted: news_article, true: scientific_publication)
ğŸ“· Processing 77/100: 1001814705_1001814708.jpg ... âœ…
ğŸ“· Processing 78/100: 0060200236.jpg ... âŒ (predicted: handwritten, true: file_folder)
ğŸ“· Processing 79/100: 521509663+-9663.jpg ... âœ…
ğŸ“· Processing 80/100: 525420721+-1425.jpg ... âŒ (predicted: presentation, true: letter)
ğŸ“ˆ Progress: 80/100 - Current Accuracy: 55.0% - Avg Time: 21.53s
ğŸ“· Processing 81/100: 513269283.jpg ... âŒ (predicted: invoice, true: form)
ğŸ“· Processing 82/100: 505818724_505818728.jpg ... âœ…
ğŸ“· Processing 83/100: 70108835-8844.jpg ... âœ…
ğŸ“· Processing 84/100: 2023027987_2023027988.jpg ... âŒ (predicted: handwritten, true: budget)
ğŸ“· Processing 85/100: 50604972-4973.jpg ... âœ…
ğŸ“· Processing 86/100: 1000821949.jpg ... âœ…
ğŸ“· Processing 87/100: 2026411910.jpg ... âœ…
ğŸ“· Processing 88/100: 500080763.jpg ... âŒ (predicted: handwritten, true: questionnaire)
ğŸ“· Processing 89/100: 2069722642.jpg ... âœ…
ğŸ“· Processing 90/100: 2063229272.jpg ... âŒ (predicted: handwritten, true: file_folder)
ğŸ“ˆ Progress: 90/100 - Current Accuracy: 55.6% - Avg Time: 22.59s
ğŸ“· Processing 91/100: 2024939576_2024939578.jpg ... âŒ (predicted: handwritten, true: news_article)
ğŸ“· Processing 92/100: 2024483728_2024483729.jpg ... âœ…
ğŸ“· Processing 93/100: 500549754_500549755.jpg ... âœ…
ğŸ“· Processing 94/100: 2501092768.jpg ... âŒ (predicted: memo, true: scientific_publication)
ğŸ“· Processing 95/100: 2047172141.jpg ... âœ…
ğŸ“· Processing 96/100: 96377421.jpg ... âŒ (predicted: handwritten, true: form)
ğŸ“· Processing 97/100: 89001193.jpg ... âŒ (predicted: form, true: invoice)
ğŸ“· Processing 98/100: 2040786347_2040786355.jpg ... âœ…
ğŸ“· Processing 99/100: 2063195878.jpg ... âŒ (predicted: invoice, true: form)
ğŸ“· Processing 100/100: 0000064508.jpg ... âŒ (predicted: scientific_report, true: specification)
ğŸ“ˆ Progress: 100/100 - Current Accuracy: 54.0% - Avg Time: 22.95s

============================================================
ğŸ“Š HTTP ENDPOINT ACCURACY TEST RESULTS
============================================================
ğŸ“ Total images tested: 100
âœ… Successful requests: 100
âŒ Failed requests: 0
ğŸ¯ Correct predictions: 54
ğŸ“ˆ Overall Accuracy: 54.00%
â±ï¸  Total time: 2295.39s
âš¡ Average time per request: 22.95s

ğŸ“‹ Accuracy by Document Type:
--------------------------------------------------
advertisement            :  28.6% ( 2/ 7)
budget                   :  50.0% ( 5/10)
email                    : 100.0% ( 4/ 4)
file_folder              :  66.7% ( 4/ 6)
form                     :  30.0% ( 3/10)
handwritten              : 100.0% ( 6/ 6)
invoice                  :  33.3% ( 1/ 3)
letter                   :  63.6% ( 7/11)
memo                     :   0.0% ( 0/ 2)
news_article             :  25.0% ( 1/ 4)
presentation             :   0.0% ( 0/ 1)
questionnaire            :  66.7% ( 4/ 6)
resume                   :  66.7% ( 4/ 6)
scientific_publication   :  71.4% ( 5/ 7)
scientific_report        :  20.0% ( 1/ 5)
specification            :  58.3% ( 7/12)

ğŸ“ Sample Predictions:
----------------------------------------------------------------------
Status Image                     True Type            Predicted            Entities
----------------------------------------------------------------------
âœ…      96900943_0945.jpg         scientific_publication scientific_publication 18      
âœ…      2070055167d.jpg           email                email                7       
âŒ      2084420939_0940.jpg       advertisement        invoice              9       
âŒ      2062907551.jpg            specification        budget               14      
âœ…      518305808+-5812.jpg       handwritten          handwritten          5       
âœ…      518113654.jpg             handwritten          handwritten          3       
âœ…      2046039536.jpg            form                 form                 7       
âœ…      2073806199d.jpg           email                email                5       
âœ…      508592242.jpg             specification        specification        19      
âœ…      2073813674a.jpg           email                email                6       
âŒ      2057322796_2837.jpg       scientific_report    specification        24      
âŒ      506049519+-9528.jpg       questionnaire        handwritten          7       
âœ…      85006560.jpg              budget               budget               11      
âœ…      50308888-8889.jpg         resume               resume               17      
âŒ      2029236668.jpg            memo                 email                15      
... and 85 more results

============================================================
âœ… GOOD: Accuracy 54.00% is above 50%
============================================================